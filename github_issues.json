[
  {
    "id": "BUG-001",
    "title": "[P0] BUG-001: Malformed If-Else Control Flow in precompute_embeddings",
    "labels": ["bug", "P0", "critical", "syntax-error"],
    "priority": "P0",
    "severity": "CRITICAL",
    "component": "Embeddings",
    "file": "+reg/precompute_embeddings.m",
    "lines": "6-17",
    "estimated_time": "2 minutes",
    "blocking": true,
    "body": "## Priority: P0 (CRITICAL)\n**Component:** Embeddings\n**File:** `+reg/precompute_embeddings.m:6-17`\n**Estimated Time:** 2 minutes\n\n### Description\nThe function has a malformed if-else-end block structure with missing `end` statement, causing a syntax error.\n\n### Fix Required\nAdd `end` statement after line 14 to close the outer if block:\n```matlab\n    end  // ADD THIS LINE - closes outer if from line 6\nelse\n    E = reg.doc_embeddings_fasttext(textStr, C.fasttext);\nend\n```\n\n### Impact\n- **Blocking:** Yes - Code will not compile\n- **Workaround:** None\n\n### See Also\n- Full details in `BUG_REPORTS.md`\n- Tracking in `BUG_TRACKING_CHECKLIST.md`"
  },
  {
    "id": "BUG-002",
    "title": "[P0] BUG-002: Duplicate Try Statement in doc_embeddings_bert_gpu",
    "labels": ["bug", "P0", "critical", "syntax-error"],
    "priority": "P0",
    "severity": "CRITICAL",
    "component": "Embeddings",
    "file": "+reg/doc_embeddings_bert_gpu.m",
    "lines": "37-39",
    "estimated_time": "2 minutes",
    "blocking": true,
    "body": "## Priority: P0 (CRITICAL)\n**Component:** Embeddings\n**File:** `+reg/doc_embeddings_bert_gpu.m:37-39`\n**Estimated Time:** 2 minutes\n\n### Description\nTwo consecutive `try` statements without proper structure, causing syntax error.\n\n### Fix Required\nRemove the duplicate `try` on line 37.\n\n### Impact\n- **Blocking:** Yes - Syntax error prevents compilation\n- **Workaround:** None\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  },
  {
    "id": "BUG-003",
    "title": "[P0] BUG-003: Missing Closing Parenthesis in Fine-Tune Workflow",
    "labels": ["bug", "P0", "critical", "syntax-error"],
    "priority": "P0",
    "severity": "CRITICAL",
    "component": "Workflow Scripts",
    "file": "reg_finetune_encoder_workflow.m",
    "lines": "21-23",
    "estimated_time": "1 minute",
    "blocking": true,
    "body": "## Priority: P0 (CRITICAL)\n**Component:** Workflow Scripts\n**File:** `reg_finetune_encoder_workflow.m:21-23`\n**Estimated Time:** 1 minute\n\n### Description\nFunction call is missing closing parenthesis. Multi-line call ends with `;` instead of `);`\n\n### Fix Required\nChange final `;` to `);` on line 23.\n\n### Impact\n- **Blocking:** Yes - Prevents script execution\n- **Workaround:** None\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  },
  {
    "id": "BUG-004",
    "title": "[P0] BUG-004: Undefined Struct Field Access (C.knobs.FineTune)",
    "labels": ["bug", "P0", "critical", "runtime-error"],
    "priority": "P0",
    "severity": "CRITICAL",
    "component": "Configuration",
    "file": "reg_finetune_encoder_workflow.m, config.m",
    "lines": "22-23, 68",
    "estimated_time": "15 minutes",
    "blocking": true,
    "body": "## Priority: P0 (CRITICAL)\n**Component:** Configuration\n**Files:** `reg_finetune_encoder_workflow.m:22-23`, `config.m:68`\n**Estimated Time:** 15 minutes\n\n### Description\nScript attempts to access `C.knobs.FineTune.*` but `C.knobs` is initialized as empty struct in `config.m:68`.\n\n### Fix Required\n**Option A (recommended):** Load knobs.json in config.m\n**Option B:** Add existence checks in workflow script with defaults\n\nSee `BUG_REPORTS.md` for detailed implementation.\n\n### Impact\n- **Blocking:** Yes - Prevents fine-tuning workflow from running\n- **Workaround:** Manually add FineTune struct or create knobs.json\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  },
  {
    "id": "BUG-005",
    "title": "[P1] BUG-005: Missing File Existence Check in doc_embeddings_bert_gpu",
    "labels": ["bug", "P1", "major", "runtime-error"],
    "priority": "P1",
    "severity": "MAJOR",
    "component": "Embeddings",
    "file": "+reg/doc_embeddings_bert_gpu.m",
    "lines": "12",
    "estimated_time": "10 minutes",
    "blocking": false,
    "body": "## Priority: P1 (MAJOR)\n**Component:** Embeddings\n**File:** `+reg/doc_embeddings_bert_gpu.m:12`\n**Estimated Time:** 10 minutes\n\n### Description\nFunction directly reads `params.json` without checking if file exists.\n\n### Fix Required\nAdd `isfile('params.json')` check with sensible defaults.\n\n### Impact\n- **Blocking:** No - Only affects first-time users\n- **Workaround:** Create params.json file\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  },
  {
    "id": "BUG-006",
    "title": "[P1] BUG-006: Logic Error in EmbeddingService.embed Method",
    "labels": ["bug", "P1", "major", "logic-error"],
    "priority": "P1",
    "severity": "MAJOR",
    "component": "Services",
    "file": "+reg/+service/EmbeddingService.m",
    "lines": "33-49",
    "estimated_time": "5 minutes",
    "blocking": false,
    "body": "## Priority: P1 (MAJOR)\n**Component:** Services\n**File:** `+reg/+service/EmbeddingService.m:33-49`\n**Estimated Time:** 5 minutes\n\n### Description\nThe `embed()` method creates an empty output, saves it to repositories, then throws NotImplemented error. This could corrupt data.\n\n### Fix Required\n**Option 1:** Remove save calls from stub (safe)\n**Option 2:** Implement proper embedding logic\n\n### Impact\n- **Blocking:** No - Currently only stub\n- **Risk:** Data corruption if accidentally called\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  },
  {
    "id": "BUG-007",
    "title": "[P2] BUG-007: Unsafe File Read in config.m",
    "labels": ["bug", "P2", "major", "code-quality"],
    "priority": "P2",
    "severity": "MAJOR",
    "component": "Configuration",
    "file": "config.m",
    "lines": "16",
    "estimated_time": "5 minutes",
    "blocking": false,
    "body": "## Priority: P2 (MAJOR)\n**Component:** Configuration\n**File:** `config.m:16`\n**Estimated Time:** 5 minutes\n\n### Description\nFunction attempts to read `params.json` without existence check, generating unnecessary warnings.\n\n### Fix Required\nAdd `isfile('params.json')` check before attempting read.\n\n### Impact\n- **Blocking:** No\n- **Workaround:** Ignore warning or create empty params.json\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  },
  {
    "id": "BUG-008",
    "title": "[P2] BUG-008: Potential Index Out of Bounds in eval_retrieval",
    "labels": ["bug", "P2", "moderate", "edge-case"],
    "priority": "P2",
    "severity": "MODERATE",
    "component": "Evaluation",
    "file": "+reg/eval_retrieval.m",
    "lines": "14-15",
    "estimated_time": "10 minutes",
    "blocking": false,
    "body": "## Priority: P2 (MODERATE)\n**Component:** Evaluation\n**File:** `+reg/eval_retrieval.m:14-15`\n**Estimated Time:** 10 minutes\n\n### Description\nAfter removing self from ordered results, if `ord` is empty or too small, slicing operation may fail.\n\n### Fix Required\nAdd validation after self-removal from candidate list.\n\n### Impact\n- **Blocking:** No\n- **Workaround:** Use larger datasets (N > K+1)\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  },
  {
    "id": "BUG-009",
    "title": "[P3] BUG-009: Inefficient Array Growth in chunk_text",
    "labels": ["bug", "P3", "minor", "performance"],
    "priority": "P3",
    "severity": "MINOR",
    "component": "Text Processing",
    "file": "+reg/chunk_text.m",
    "lines": "11-14",
    "estimated_time": "20 minutes",
    "blocking": false,
    "body": "## Priority: P3 (MINOR)\n**Component:** Text Processing\n**File:** `+reg/chunk_text.m:11-14`\n**Estimated Time:** 20 minutes\n\n### Description\nArrays are grown dynamically in loop using `end+1` indexing, causing repeated memory reallocation.\n\n### Fix Required\nPre-allocate arrays based on estimated size.\n\n### Impact\n- **Blocking:** No\n- **Effect:** Slower processing for large corpora\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  },
  {
    "id": "BUG-010",
    "title": "[P3] BUG-010: Confusing Indexing Style in build_pairs",
    "labels": ["bug", "P3", "minor", "code-quality"],
    "priority": "P3",
    "severity": "MINOR",
    "component": "Training",
    "file": "+reg/build_pairs.m",
    "lines": "42-44",
    "estimated_time": "2 minutes",
    "blocking": false,
    "body": "## Priority: P3 (MINOR)\n**Component:** Training\n**File:** `+reg/build_pairs.m:42-44`\n**Estimated Time:** 2 minutes\n\n### Description\nUsing `0+1`, `1+1`, `2+1` instead of direct indices `1`, `2`, `3` is confusing.\n\n### Fix Required\nReplace with direct indexing:\n```matlab\nP.anchor = trip(1,:);\nP.positive = trip(2,:);\nP.negative = trip(3,:);\n```\n\n### Impact\n- **Blocking:** No\n- **Effect:** Code quality/readability only\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  },
  {
    "id": "BUG-011",
    "title": "[P3] BUG-011: Potential Double Cell Wrapping in hybrid_search",
    "labels": ["bug", "P3", "minor", "logic-error"],
    "priority": "P3",
    "severity": "MINOR",
    "component": "Search",
    "file": "+reg/hybrid_search.m",
    "lines": "10",
    "estimated_time": "10 minutes",
    "blocking": false,
    "body": "## Priority: P3 (MINOR)\n**Component:** Search\n**File:** `+reg/hybrid_search.m:10`\n**Estimated Time:** 10 minutes\n\n### Description\nStruct construction uses `{vocab}` which wraps vocab in cell array. If vocab is already a cell array, this creates double nesting.\n\n### Fix Required\nRemove cell wrapper or add explicit cell conversion.\n\n### Impact\n- **Blocking:** No\n- **Effect:** May work correctly if downstream handles nesting\n\n### See Also\n- Full details in `BUG_REPORTS.md`"
  }
]
